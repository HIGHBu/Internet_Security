# Traffic Anaylsis

网络中的流量是基础的信息流，网络的目的是传输信息

### 步骤

**collection**

用网络嗅探工具，收集网络上的二进制数据包

**conversion**

将收集到的二进制数据包转换成可读的形式

**analysis**

根据协议对数据流量进行分析



可以通过流量分析破坏匿名通信或者获得密码等信息

找到恶意的流量

### **攻破匿名通信**

匿名网络实现的是输入和输出无法关联起来，改变时序关联

实现原理是在mix network中随机混合转发，分散负载

攻击者的目标是：1、确认一个数据包的发送者接收者分别是谁；2、将数据包关联起来，构造流量图的画像，确定输入和输出之间的关系；3、瘫痪网络

被动攻击需要足够的数据，需要耗费大量的时间和计算，以及错误率会比较高

### SDA statistical disclosure attacks

统计信息披露的攻击

攻击情景：

1. mix network每次拿b个消息混合后输出
2. 每轮alice给他的m个朋友中的随机一个发送一条message
3. 其他人随机发送给任何人(N个人)一条message

不使用匿名通信的方法，朋友收到消息的概率为`(b-1)/N`，非朋友收到消息的概率为`1/m+(b-1)/N`

<img src="F:/ZJU/课程/网络安全原理与实践/笔记/assets/image-20220329151459419.png" alt="image-20220329151459419" style="zoom:50%;" />

使用匿名通信的方法，朋友收到消息的概率为`1/(m*b)+(b-1)/(b*N)`，非朋友收到消息的概率为`(b-1)/(b*N)`

<img src="F:/ZJU/课程/网络安全原理与实践/笔记/assets/image-20220329151742843.png" alt="image-20220329151742843" style="zoom:50%;" />

所以经过Bayes统计分析，收到消息比较多的就是朋友

### 追踪数据

tracing streams of data

经过mix之后，不同的stream of data仍然是独立的，各自stream的random delay图像的shape几乎不变

对于延迟进行建模，做假设检验，得到每个output stream和input stream的对应关系

### **流量水印 **Flow watermarking

给数据包打上水印

属于积极的网络分析，提高了检测的效率和正确率，计算复杂度低





